{% extends 'base.html.twig' %}

{% block title %}Page d'administration{% endblock %}

{% block main %}
    <div class="bg-slate-200 flex flex-col min-h-screen font-['Epilogue'] pb-5">
	<h1 class="text-2xl	 md:text-4xl font-medium text-center max-sm:pt-4 lg:text-start text-blue-900 pt-12 px-6 pb-4">Administration</h1>

        {% include "admin/layout/nav.html.twig" %}

        <div class="bg-white rounded-md w-[95%] md:w-[97%] p-3 md:p-7 min-h-[85vh] m-auto rounded-tl-none">

            <h1 class="text-[20px] font-semibold font-noto mt-2.5">Gestion des origines</h1>
            <div>
                <p class="font-noto text-customGrey pt-3">Rechercher par le nom d'une origine</p>
                <form class="flex items-center pt-2.5 gap-7 max-sm:flex-col">
                    <input type="text" name="search" class="text-gray-500 rounded-md border-gray-300 border border-solid h-11 p-2 outline-none w-[45%] max-sm:w-[100%]">
                    <button type="submit" class="bg-slate-100 h-11 rounded-md w-[15%] max-[768px]:w-[25%] max-[640px]:w-[40%] font-noto text-customGrey text-[16px] transition duration-200 hover:bg-slate-200">Rechercher</button>
                    <a href="{{ path('exercise_admin_create_general') }}" class="flex justify-center items-center bg-customGreen font-medium font-noto text-white text-[16px] w-[15%] max-[768px]:w-[25%] max-[640px]:w-[40%] rounded-md border-gray-300 border border-solid h-11 transition duration-200 hover:bg-darkGreen ">
                        <button type="submit">Ajouter +</button>
                    </a>
                </form>
                <div class="overflow-x-auto relative mt-5 rounded-xl border border-solid border-gray-200">
                    <table class="w-full">
                        <thead class="text-left h-12 bg-gray-100">
                            <tr>
                                <th class="font-medium px-6 py-3 rounded-tl-xl w-[80%]">Nom</th>
                                <th class="font-medium px-6 py-3 rounded-tl-xl w-[80%]">Matière</th>
                                <th class="font-medium px-6 py-3 rounded-tl-xl w-[80%]">Niveau</th>
                                <th class="font-medium px-6 py-3 rounded-tl-xl w-[80%]">Thématique</th>
                                <th class="font-medium px-6 py-3 rounded-tl-xl w-[80%]">Fichiers</th>
                                <th class="font-medium px-6 py-3 rounded-tr-xl">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for exercise in exercises %}
                                <tr class="bg-white dark:bg-gray-800 dark:border-gray-700 border-solid border-t border-gray-200">
                                    <td class="py-4 px-6">{{ exercise.name }}</td>
                                    <td class="py-4 px-6">{{ exercise.course.name }}</td>
                                    <td class="py-4 px-6">{{ exercise.difficulty.value }}</td>
                                    <td class="py-4 px-6">{{ exercise.thematic.name }}</td>
                                    <td class="px-6	py-4">
                                        <div class="flex flex-col gap-4 items-baseline">
                                            <a class="flex justify-center items-normal gap-2" href="/uploads/files/exercises/{{ exercise.exerciseFile }}">
                                                <svg width="16" height="19" viewbox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M7.38596 6.50012H9.49122L6.6842 9.02643L3.87719 6.50012H5.98245V3.9738H7.38596V6.50012ZM8.78946 1.44748H1.77193V11.5527H11.5965V3.9738H8.78946V1.44748ZM0.368423 0.810853C0.368423 0.464747 0.682107 0.184326 1.06948 0.184326H9.49122L13 3.34222V12.1799C13.0006 12.2628 12.9831 12.3451 12.9485 12.4219C12.9138 12.4988 12.8626 12.5687 12.7979 12.6278C12.7332 12.6869 12.6562 12.7339 12.5713 12.7661C12.4864 12.7984 12.3953 12.8153 12.3031 12.8159H1.06526C0.880969 12.8147 0.704576 12.7484 0.57419 12.6312C0.443804 12.5139 0.369893 12.3552 0.368423 12.1894V0.810853Z" fill="#03053D"/>
                                                </svg>
                                                Exercice</a>
                                            <a class="flex justify-center items-normal gap-2" href="/uploads/files/exercises/{{ exercise.correctionFile }}">
                                                <svg width="16" height="19" viewbox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M7.38596 6.50012H9.49122L6.6842 9.02643L3.87719 6.50012H5.98245V3.9738H7.38596V6.50012ZM8.78946 1.44748H1.77193V11.5527H11.5965V3.9738H8.78946V1.44748ZM0.368423 0.810853C0.368423 0.464747 0.682107 0.184326 1.06948 0.184326H9.49122L13 3.34222V12.1799C13.0006 12.2628 12.9831 12.3451 12.9485 12.4219C12.9138 12.4988 12.8626 12.5687 12.7979 12.6278C12.7332 12.6869 12.6562 12.7339 12.5713 12.7661C12.4864 12.7984 12.3953 12.8153 12.3031 12.8159H1.06526C0.880969 12.8147 0.704576 12.7484 0.57419 12.6312C0.443804 12.5139 0.369893 12.3552 0.368423 12.1894V0.810853Z" fill="#03053D"/>
                                                </svg>Corrigé</a>
                                        </div>
                                    </td>
                                    <td class="py-4 px-6 md:flex md:justify-center md:items-center md:gap-3 max-sm:flex max-sm:flex-col max-sm:justify-center max-sm:items-center max-sm:gap-3">
                                        <a href="{{ path('exercise_admin_edit_general', {'id': exercise.id}) }}" class="flex items-center gap-2.5 font-medium hover:underline">
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M11.266 0.875098L9.68262 2.45843H1.95833V13.5418H13.0417V5.81747L14.625 4.23414V14.3334C14.625 14.5434 14.5416 14.7448 14.3931 14.8932C14.2447 15.0417 14.0433 15.1251 13.8333 15.1251H1.16667C0.956704 15.1251 0.75534 15.0417 0.606874 14.8932C0.458407 14.7448 0.375 14.5434 0.375 14.3334V1.66676C0.375 1.4568 0.458407 1.25544 0.606874 1.10697C0.75534 0.958505 0.956704 0.875098 1.16667 0.875098H11.266ZM14.2173 0.162598L15.3375 1.2836L8.0605 8.5606L6.94267 8.56297L6.94108 7.44118L14.2173 0.162598Z" fill="#757575"/>
                                            </svg>
                                            Modifier
                                        </a>
                                        <a href="" class="flex items-center gap-2.5 font-medium hover:underline ml-4">
                                            <svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <g clip-path="url(#clip0_1095_4423)">
                                                    <path d="M3.16668 6.83325H15.8333V17.1249C15.8333 17.3349 15.7499 17.5362 15.6015 17.6847C15.453 17.8332 15.2516 17.9166 15.0417 17.9166H3.95834C3.74838 17.9166 3.54702 17.8332 3.39855 17.6847C3.25008 17.5362 3.16668 17.3349 3.16668 17.1249V6.83325ZM4.75001 8.41658V16.3333H14.25V8.41658H4.75001ZM7.12501 9.99992H8.70834V14.7499H7.12501V9.99992ZM10.2917 9.99992H11.875V14.7499H10.2917V9.99992ZM5.54168 4.45825V2.87492C5.54168 2.66496 5.62508 2.46359 5.77355 2.31513C5.92202 2.16666 6.12338 2.08325 6.33334 2.08325H12.6667C12.8766 2.08325 13.078 2.16666 13.2265 2.31513C13.3749 2.46359 13.4583 2.66496 13.4583 2.87492V4.45825H17.4167V6.04158H1.58334V4.45825H5.54168ZM7.12501 3.66659V4.45825H11.875V3.66659H7.12501Z" fill="#757575"/>
                                                </g>
                                                <defs>
                                                    <clipPath id="clip0_1095_4423">
                                                        <rect width="19" height="19" fill="white" transform="translate(0 0.5)"/>
                                                    </clipPath>
                                                </defs>
                                            </svg>
                                            Supprimer
                                        </a>
                                    </td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
            			<div class="mt-5">
				{{ knp_pagination_render(exercises, 'components/pagination/custom_pagination.html.twig') }}
			</div>
        </div>
    </div>
{% endblock %}
